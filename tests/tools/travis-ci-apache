<VirtualHost *:80>
  DocumentRoot /var/www/html

  AddType text/html .php

  DirectoryIndex index.php

  <Directory "/var/www/html/">
    Options FollowSymLinks MultiViews ExecCGI
    AllowOverride All
    Require all granted
  </Directory>

  #
  # Redirect to local php-fpm (no mod_php in default configuration)
  #
  <IfModule !mod_php5.c>
    <IfModule !mod_php7.c>
      # Enable http authorization headers
      SetEnvIfNoCase ^Authorization$ "(.+)" HTTP_AUTHORIZATION=$1

      <FilesMatch \.(php|phar)$>
          SetHandler "proxy:unix:/run/php-fpm/www.sock|fcgi://localhost"
      </FilesMatch>
    </IfModule>
  </IfModule>

  <IfModule  mod_php7.c>
    #
    # Cause the PHP interpreter to handle files with a .php extension.
    #
    <FilesMatch \.(php|phar)$>
        SetHandler application/x-httpd-php
    </FilesMatch>

    #
    # Apache specific PHP configuration options
    # those can be override in each configured vhost
    #
    php_value session.save_handler "files"
    php_value session.save_path    "/tmp"

    #php_value opcache.file_cache   "/var/lib/php/opcache"
  </IfModule>
</VirtualHost>
